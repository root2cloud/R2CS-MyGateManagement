<odoo>
    <!-- Report Action -->
    <record id="action_report_lease_agreement" model="ir.actions.report">
        <field name="name">Lease Agreement</field>
        <field name="model">flat.transaction</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">community_management.report_lease_agreement_document</field>
        <field name="report_file">community_management.report_lease_agreement_document</field>
        <field name="binding_model_id" ref="model_flat_transaction"/>
        <field name="binding_type">report</field>
    </record>

    <!-- Report Template -->
    <template id="report_lease_agreement_document">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h2 class="text-center">LEASE AGREEMENT</h2>

                        <div class="row mt32">
                            <div class="col-6">
                                <strong>Building:</strong> <span t-field="o.building_id.name"/><br/>
                                <strong>Floor:</strong> <span t-field="o.floor_id.name"/><br/>
                                <strong>Flat:</strong> <span t-field="o.flat_id.name"/>
                            </div>
                            <div class="col-6">
                                <strong>Agreement Date:</strong> <span t-field="o.agreement_date"/><br/>
                                <strong>Status:</strong> <span t-field="o.status"/>
                            </div>
                        </div>

                        <h4 class="mt32">Lease Parties</h4>
                        <div class="row">
                            <div class="col-6">
                                <strong>Lease Owner:</strong><br/>
                                <span t-if="o.lease_owner_id" t-field="o.lease_owner_id.name"/>
                                <span t-else="">N/A</span>
                            </div>
                            <div class="col-6">
                                <strong>Tenant:</strong><br/>
                                <span t-field="o.tenant_id.name"/>
                            </div>
                        </div>

                        <h4 class="mt32">Lease Terms</h4>
                        <table class="table table-sm">
                            <tr>
                                <td><strong>Monthly Rent:</strong></td>
                                <td><span t-field="o.rent_price"/></td>
                            </tr>
                            <tr>
                                <td><strong>Security Deposit:</strong></td>
                                <td><span t-field="o.security_deposit"/></td>
                            </tr>
                            <tr>
                                <td><strong>Lease Start Date:</strong></td>
                                <td><span t-field="o.lease_start_date"/></td>
                            </tr>
                            <tr>
                                <td><strong>Lease End Date:</strong></td>
                                <td><span t-field="o.lease_end_date"/></td>
                            </tr>
                            <tr>
                                <td><strong>Duration:</strong></td>
                                <td><span t-field="o.lease_duration_months"/> months</td>
                            </tr>
                        </table>

                        <div class="mt32" t-if="o.notes">
                            <h4>Additional Terms &amp; Conditions</h4>
                            <p t-field="o.notes"/>
                        </div>

                        <div class="row mt64">
                            <div class="col-6 text-center">
                                <div style="border-top: 1px solid #000; width: 200px; margin: 0 auto;">
                                    Owner Signature
                                </div>
                            </div>
                            <div class="col-6 text-center">
                                <div style="border-top: 1px solid #000; width: 200px; margin: 0 auto;">
                                    Tenant Signature
                                </div>
                            </div>
                        </div>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>
